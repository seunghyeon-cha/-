"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[334],{9376:function(e,t,r){var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1492:function(e,t,r){var s=r(7437),a=r(1994);t.Z=e=>{let{children:t,hover:r=!1,padding:n="md",shadow:o="md",className:l,...i}=e;return(0,s.jsx)("div",{className:(0,a.W)("bg-white rounded-lg transition-all duration-200",{none:"",sm:"p-4",md:"p-6",lg:"p-8"}[n],{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"}[o],r?"hover:shadow-lg hover:-translate-y-1 cursor-pointer":"",l),...i,children:t})}},9731:function(e,t,r){var s=r(7437);t.Z=e=>{let{currentPage:t,totalPages:r,onPageChange:a}=e;return r<=1?null:(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8",children:[(0,s.jsx)("button",{onClick:()=>a(t-1),disabled:1===t,className:"px-4 py-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"이전"}),(()=>{let e=[];if(r<=5)for(let t=1;t<=r;t++)e.push(t);else{e.push(1),t>3&&e.push("...");for(let s=Math.max(2,t-1);s<=Math.min(r-1,t+1);s++)e.push(s);t<r-2&&e.push("..."),e.push(r)}return e})().map((e,r)=>{if("..."===e)return(0,s.jsx)("span",{className:"px-2 text-gray-500",children:"..."},"ellipsis-".concat(r));let n=e===t;return(0,s.jsx)("button",{onClick:()=>a(e),className:"px-4 py-2 rounded-lg border transition-colors ".concat(n?"bg-primary-500 text-white border-primary-500":"border-gray-300 hover:bg-gray-50"),children:e},e)}),(0,s.jsx)("button",{onClick:()=>a(t+1),disabled:t===r,className:"px-4 py-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"다음"})]})}},8624:function(e,t,r){var s=r(7437),a=r(2265),n=r(1492);t.Z=e=>{let{id:t,image:r,category:o,name:l,address:i,rating:c,reviewCount:d,isBookmarked:u=!1,onBookmark:h,onClick:m}=e,[x,p]=(0,a.useState)(u),f={TOURIST:{label:"관광지",color:"bg-primary-500/80 text-white"},RESTAURANT:{label:"맛집",color:"bg-orange-500/80 text-white"},ACCOMMODATION:{label:"숙소",color:"bg-purple-500/80 text-white"}};return(0,s.jsxs)(n.Z,{padding:"none",hover:!0,onClick:()=>{null==m||m(t)},className:"overflow-hidden",children:[(0,s.jsxs)("div",{className:"relative aspect-video bg-gray-200",children:[r?(0,s.jsx)("img",{src:r,alt:l,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,s.jsx)("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,s.jsx)("div",{className:"absolute top-3 left-3 px-3 py-1.5 rounded-md text-xs font-semibold backdrop-blur-sm ".concat(f[o].color),children:f[o].label}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),p(!x),null==h||h(t)},className:"absolute top-3 right-3 w-9 h-9 bg-white/90 hover:bg-white rounded-full flex items-center justify-center transition-all duration-200","aria-label":x?"북마크 제거":"북마크 추가",children:(0,s.jsx)("svg",{className:"w-5 h-5 ".concat(x?"text-primary-500 fill-current":"text-gray-600"),fill:x?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})]}),(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsx)("h3",{className:"text-lg font-bold text-gray-900 truncate",children:l}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600 truncate",children:[(0,s.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),(0,s.jsx)("span",{className:"truncate",children:i})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-700",children:[(0,s.jsx)("svg",{className:"w-4 h-4 text-yellow-400 fill-current",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,s.jsx)("span",{className:"sr-only",children:"평점"}),(0,s.jsx)("span",{className:"font-medium",children:c.toFixed(1)}),(0,s.jsxs)("span",{className:"text-gray-500",children:[(0,s.jsx)("span",{className:"sr-only",children:"리뷰"}),"(",d,(0,s.jsx)("span",{className:"sr-only",children:"개"}),")"]})]})]})]})}},1371:function(e,t,r){var s=r(7437),a=r(2265);t.Z=e=>{var t;let r;let{review:n,onLike:o,onDelete:l,canDelete:i=!1}=e,[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)((null===(t=n._count)||void 0===t?void 0:t.likes)||0);return(0,s.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:n.user.profileImage?(0,s.jsx)("img",{src:n.user.profileImage,alt:n.user.name,className:"w-full h-full object-cover"}):(0,s.jsx)("span",{className:"text-gray-600 font-semibold",children:n.user.name[0]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-semibold text-gray-900",children:n.user.name}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:new Date(n.createdAt).toLocaleDateString("ko-KR")})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:(r=n.rating,Array.from({length:5}).map((e,t)=>(0,s.jsx)("svg",{className:"w-5 h-5 ".concat(t<r?"text-yellow-400 fill-current":"text-gray-300"),viewBox:"0 0 20 20",children:(0,s.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t)))})]}),(0,s.jsx)("p",{className:"text-gray-700 leading-relaxed mb-4",children:n.content}),n.images&&n.images.length>0&&(0,s.jsx)("div",{className:"flex gap-2 mb-4",children:n.images.map((e,t)=>(0,s.jsx)("img",{src:e,alt:"리뷰 이미지 ".concat(t+1),className:"w-24 h-24 rounded-lg object-cover cursor-pointer hover:opacity-80 transition-opacity"},t))}),(0,s.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t border-gray-100",children:[(0,s.jsxs)("button",{onClick:()=>{o&&(o(n.id),d(!c),h(c?u-1:u+1))},className:"flex items-center gap-2 text-sm transition-colors ".concat(c?"text-primary-600":"text-gray-600 hover:text-primary-600"),children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:c?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),(0,s.jsx)("span",{children:u})]}),i&&l&&(0,s.jsxs)("button",{onClick:()=>l(n.id),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-error transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),(0,s.jsx)("span",{children:"삭제"})]})]})]})}},826:function(e,t,r){r.d(t,{Ke:function(){return o},Tc:function(){return l},gV:function(){return a},sd:function(){return n}});var s=r(6305);let a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await s.x.get("/api/bookmarks",{params:{page:e,limit:t}})).data},n=async e=>(await s.x.get("/api/bookmarks/check/".concat(e))).data,o=async e=>(await s.x.post("/api/bookmarks",{placeId:e})).data,l=async e=>{await s.x.delete("/api/bookmarks/".concat(e))}},6305:function(e,t,r){r.d(t,{x:function(){return l}});var s=r(3464),a=r(9375),n=r(7802);let o="http://localhost:4000",l=s.Z.create({baseURL:o,headers:{"Content-Type":"application/json"}});l.interceptors.request.use(e=>{let{accessToken:t}=a.t.getState();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,async e=>{var t,r;let i=e.config;if(!e.response)return n.A.error("인터넷 연결을 확인해주세요"),Promise.reject(e);if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!i._retry){i._retry=!0;try{let{refreshToken:e}=a.t.getState();if(!e)throw Error("No refresh token");let{accessToken:t,refreshToken:r}=(await s.Z.post("".concat(o,"/api/auth/refresh"),{refreshToken:e})).data,{user:n}=a.t.getState();return n&&a.t.getState().setAuth(n,t,r),i.headers.Authorization="Bearer ".concat(t),l(i)}catch(e){return a.t.getState().clearAuth(),n.A.error("세션이 만료되었습니다. 다시 로그인해주세요"),window.location.href="/login",Promise.reject(e)}}403===e.response.status&&n.A.error("접근 권한이 없습니다"),404===e.response.status&&n.A.error("요청하신 정보를 찾을 수 없습니다"),e.response.status>=500&&n.A.error("일시적인 오류가 발생했습니다. 잠시 후 다시 시도해주세요");let c=null===(r=e.response.data)||void 0===r?void 0:r.message;if(c&&![401,403,404].includes(e.response.status)){let e=Array.isArray(c)?c[0]:c;n.A.error(e)}return Promise.reject(e)})},9375:function(e,t,r){r.d(t,{t:function(){return n}});var s=r(9625),a=r(6885);let n=(0,s.Ue)()((0,a.tJ)(e=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,setAuth:(t,r,s)=>e({user:t,accessToken:r,refreshToken:s,isAuthenticated:!0}),clearAuth:()=>e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1}),updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null}))}),{name:"auth-storage"}))},7802:function(e,t,r){r.d(t,{A:function(){return a},E:function(){return s}});let s=(0,r(9625).Ue)(e=>({toasts:[],addToast:t=>{let r="toast-".concat(Date.now(),"-").concat(Math.random()),s={id:r,duration:3e3,...t};e(e=>({toasts:[...e.toasts,s]})),s.duration&&setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==r)}))},s.duration)},removeToast:t=>e(e=>({toasts:e.toasts.filter(e=>e.id!==t)})),clearToasts:()=>e({toasts:[]})})),a={success:(e,t)=>s.getState().addToast({type:"success",message:e,duration:t}),error:(e,t)=>s.getState().addToast({type:"error",message:e,duration:t}),warning:(e,t)=>s.getState().addToast({type:"warning",message:e,duration:t}),info:(e,t)=>s.getState().addToast({type:"info",message:e,duration:t})}},1994:function(e,t,r){r.d(t,{W:function(){return s}});function s(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s)}return a}(e))&&(s&&(s+=" "),s+=t);return s}}}]);