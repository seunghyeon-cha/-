(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6017],{5355:function(e,t,r){Promise.resolve().then(r.bind(r,8046))},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},5523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return a}});let a=r(7043)._(r(2265)).default.createContext(null)},8046:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7437),s=r(2265),n=r(9376),o=r(3145),l=r(4659);function i(){let e=(0,n.useRouter)(),[t,r]=(0,s.useState)([]),[i,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(""),[h,x]=(0,s.useState)(1),[m,p]=(0,s.useState)(0),[f,g]=(0,s.useState)(null),[v,N]=(0,s.useState)(""),[j,y]=(0,s.useState)(""),b=(0,s.useRef)(null),w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let n;if(c(!0),g(null),n=a.trim()?await (0,l.wv)({keyword:a.trim(),areaCode:e,numOfRows:20,pageNo:t}):await (0,l.r4)({areaCode:e,numOfRows:20,pageNo:t}),"0000"===n.response.header.resultCode){var s;let e=(null===(s=n.response.body.items)||void 0===s?void 0:s.item)||[];r(e),p(n.response.body.totalCount||0)}else g("축제 정보를 불러오는데 실패했습니다."),r([])}catch(e){console.error("Failed to fetch festivals:",e),g("축제 정보를 불러오는데 실패했습니다."),r([])}finally{c(!1)}};(0,s.useEffect)(()=>{w(d,h,v)},[d,h,v]);let k=()=>{y(""),N(""),x(1),b.current&&clearTimeout(b.current)},S=t=>{e.push("/festivals/".concat(t))},C=e=>{x(e),window.scrollTo({top:0,behavior:"smooth"})},E=Math.ceil(m/20);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"축제 정보"}),(0,a.jsx)("p",{className:"text-gray-600",children:"전국 각지의 다양한 축제를 만나보세요"})]})}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,a.jsx)("input",{type:"text",value:j,onChange:e=>{let t=e.target.value;y(t),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{N(t),x(1)},300)},placeholder:"축제명으로 검색...",className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),j&&(0,a.jsx)("button",{onClick:k,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"검색 초기화",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("label",{htmlFor:"area",className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"지역 선택"}),(0,a.jsxs)("select",{id:"area",value:d,onChange:e=>{u(e.target.value),x(1)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,a.jsx)("option",{value:"",children:"전체"}),(0,a.jsx)("option",{value:l.cS.SEOUL,children:"서울"}),(0,a.jsx)("option",{value:l.cS.BUSAN,children:"부산"}),(0,a.jsx)("option",{value:l.cS.DAEGU,children:"대구"}),(0,a.jsx)("option",{value:l.cS.INCHEON,children:"인천"}),(0,a.jsx)("option",{value:l.cS.GWANGJU,children:"광주"}),(0,a.jsx)("option",{value:l.cS.DAEJEON,children:"대전"}),(0,a.jsx)("option",{value:l.cS.ULSAN,children:"울산"}),(0,a.jsx)("option",{value:l.cS.SEJONG,children:"세종"}),(0,a.jsx)("option",{value:l.cS.GYEONGGI,children:"경기"}),(0,a.jsx)("option",{value:l.cS.GANGWON,children:"강원"}),(0,a.jsx)("option",{value:l.cS.CHUNGBUK,children:"충북"}),(0,a.jsx)("option",{value:l.cS.CHUNGNAM,children:"충남"}),(0,a.jsx)("option",{value:l.cS.JEONBUK,children:"전북"}),(0,a.jsx)("option",{value:l.cS.JEONNAM,children:"전남"}),(0,a.jsx)("option",{value:l.cS.GYEONGBUK,children:"경북"}),(0,a.jsx)("option",{value:l.cS.GYEONGNAM,children:"경남"}),(0,a.jsx)("option",{value:l.cS.JEJU,children:"제주"})]})]}),m>0&&(0,a.jsxs)("span",{className:"text-sm text-gray-600 whitespace-nowrap",children:["총 ",m.toLocaleString(),"개의 축제",v&&(0,a.jsxs)("span",{className:"ml-1 text-primary-600",children:['(검색: "',v,'")']})]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[f&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,a.jsx)("p",{className:"text-red-800",children:f})}),i?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):0===t.length?(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:v?'"'.concat(v,'"에 대한 검색 결과가 없습니다.'):d?"해당 지역의 축제 정보가 없습니다.":"축제 정보가 없습니다."}),v&&(0,a.jsx)("button",{onClick:k,className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"검색 초기화"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,a.jsxs)("div",{onClick:()=>S(e.contentid),className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer overflow-hidden",children:[(0,a.jsx)("div",{className:"relative w-full aspect-[4/3] bg-gray-200",children:e.firstimage?(0,a.jsx)(o.default,{src:e.firstimage,alt:e.title,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, (max-width: 1024px) 50vw, (max-width: 1280px) 33vw, 25vw",onError:e=>{e.target.style.display="none"},unoptimized:!0}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2",children:e.title}),e.addr1&&(0,a.jsxs)("div",{className:"flex items-start gap-1 text-sm text-gray-600 mb-1",children:[(0,a.jsxs)("svg",{className:"w-4 h-4 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,a.jsx)("span",{className:"line-clamp-1",children:e.addr1})]}),e.tel&&(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[(0,a.jsx)("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,a.jsx)("span",{children:e.tel})]})]})]},e.contentid))}),E>1&&(0,a.jsx)("div",{className:"mt-8 flex justify-center",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>C(h-1),disabled:1===h,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"이전"}),Array.from({length:Math.min(5,E)},(e,t)=>{let r;return r=E<=5?t+1:h<=3?t+1:h>=E-2?E-4+t:h-2+t,(0,a.jsx)("button",{onClick:()=>C(r),className:"px-4 py-2 border rounded-lg ".concat(h===r?"bg-primary-600 text-white border-primary-600":"border-gray-300 hover:bg-gray-50"),children:r},r)}),(0,a.jsx)("button",{onClick:()=>C(h+1),disabled:h===E,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"다음"})]})})]})]})]})}},4659:function(e,t,r){"use strict";r.d(t,{Eb:function(){return i},bJ:function(){return l},cS:function(){return c},r4:function(){return n},wv:function(){return o}});var a=r(3464);let s="http://localhost:4000";async function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await a.Z.get("".concat(s,"/api/tour/festivals"),{params:{areaCode:e.areaCode,numOfRows:e.numOfRows||20,pageNo:e.pageNo||1}})).data}catch(e){throw console.error("Failed to fetch festivals:",e),e}}async function o(e){try{return(await a.Z.get("".concat(s,"/api/tour/festivals/search"),{params:{keyword:e.keyword,areaCode:e.areaCode,numOfRows:e.numOfRows||20,pageNo:e.pageNo||1}})).data}catch(e){throw console.error("Failed to search festivals:",e),e}}async function l(e){try{return(await a.Z.get("".concat(s,"/api/tour/festivals/").concat(e))).data}catch(e){throw console.error("Failed to fetch festival detail:",e),e}}async function i(e){try{return(await a.Z.get("".concat(s,"/api/tour/festivals/").concat(e,"/images"))).data}catch(e){throw console.error("Failed to fetch festival images:",e),e}}let c={ALL:"",SEOUL:"1",INCHEON:"2",DAEJEON:"3",DAEGU:"4",GWANGJU:"5",BUSAN:"6",ULSAN:"7",SEJONG:"8",GYEONGGI:"31",GANGWON:"32",CHUNGBUK:"33",CHUNGNAM:"34",GYEONGBUK:"35",GYEONGNAM:"36",JEONBUK:"37",JEONNAM:"38",JEJU:"39"}}},function(e){e.O(0,[3464,3145,2971,2117,1744],function(){return e(e.s=5355)}),_N_E=e.O()}]);