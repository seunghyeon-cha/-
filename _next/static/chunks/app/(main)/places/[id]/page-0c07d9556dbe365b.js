(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9921],{5937:function(e,a,s){Promise.resolve().then(s.bind(s,7125))},7125:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return f}});var t=s(7437),l=s(2265),r=s(9376),n=s(8624),i=s(1371),o=e=>{let{value:a,max:s=5,size:l="md",showValue:r=!1,onChange:n,onHover:i,readonly:o=!1,className:c=""}=e,d={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"},x=e=>{!o&&n&&n(e)},m=e=>{!o&&i&&i(e)},h=()=>{!o&&i&&i(0)},u=e=>{let s=e+1,r=s<=a,i=!r&&s-.5<=a;return(0,t.jsx)("button",{type:"button",onClick:()=>x(s),onMouseEnter:()=>m(s),onMouseLeave:h,disabled:o&&!n,className:"transition-all ".concat(!o&&n?"cursor-pointer hover:scale-110":"cursor-default"),children:i?(0,t.jsxs)("svg",{className:"".concat(d[l]," text-yellow-400"),viewBox:"0 0 20 20",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"half-".concat(e),children:[(0,t.jsx)("stop",{offset:"50%",stopColor:"currentColor"}),(0,t.jsx)("stop",{offset:"50%",stopColor:"#D1D5DB"})]})}),(0,t.jsx)("path",{fill:"url(#half-".concat(e,")"),d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})]}):(0,t.jsx)("svg",{className:"".concat(d[l]," ").concat(r?"text-yellow-400 fill-current":"text-gray-300"),viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},e)};return(0,t.jsxs)("div",{className:"flex items-center gap-1 ".concat(c),children:[(0,t.jsx)("div",{className:"flex gap-0.5",children:Array.from({length:s}).map((e,a)=>u(a))}),r&&(0,t.jsx)("span",{className:"font-semibold text-gray-900 ml-1 ".concat({sm:"text-sm",md:"text-base",lg:"text-lg"}[l]),children:a.toFixed(1)})]})},c=e=>{let{ratings:a,totalReviews:s,averageRating:l}=e,r=e=>0===s?0:Math.round(e/s*100);return(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-6 pb-6 border-b border-gray-200",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"평균 평점"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-4xl font-bold text-gray-900",children:l.toFixed(1)}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o,{value:l,size:"md",readonly:!0}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["총 ",s.toLocaleString(),"개 리뷰"]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"평점 분포"}),[5,4,3,2,1].map(e=>{let s=a[e],l=r(s);return(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center gap-1 w-16",children:(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[e,"점"]})}),(0,t.jsx)("div",{className:"flex-1 relative h-4 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"absolute left-0 top-0 h-full bg-yellow-400 transition-all duration-300",style:{width:"".concat(l,"%")}})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 w-24 text-right",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-900 w-12",children:[l,"%"]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500 w-12",children:["(",s,")"]})]})]},e)})]}),(0,t.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-primary-600",children:[Math.round(a[5]/s*100)||0,"%"]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"5점 비율"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[Math.round((a[5]+a[4])/s*100)||0,"%"]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"4점 이상 비율"})]})]})]})},d=s(9731),x=s(9904),m=s(9375),h=s(7802),u=e=>{let{placeId:a,onWriteReview:s}=e,{user:r}=(0,m.t)(),[n,o]=(0,l.useState)([]),[u,g]=(0,l.useState)({total:0,page:1,limit:10,totalPages:0}),[p,j]=(0,l.useState)(0),[w,f]=(0,l.useState)({5:0,4:0,3:0,2:0,1:0}),[v,y]=(0,l.useState)(!0);(0,l.useEffect)(()=>{b(1)},[a]);let b=async e=>{try{y(!0);let s=await (0,x.Jh)(a,e,10);if(o(s.data),g(s.meta),s.data.length>0){let e=s.data.reduce((e,a)=>e+a.rating,0)/s.data.length;j(e);let a={5:0,4:0,3:0,2:0,1:0};s.data.forEach(e=>{e.rating>=1&&e.rating<=5&&a[e.rating]++}),f(a)}}catch(e){console.error("Failed to fetch reviews:",e)}finally{y(!1)}},N=async e=>{try{await (0,x.yA)(e)}catch(e){console.error("Failed to toggle like:",e),h.A.error("좋아요 처리에 실패했습니다")}},k=async e=>{if(window.confirm("정말 삭제하시겠습니까?"))try{await (0,x.i0)(e),h.A.success("리뷰가 삭제되었습니다"),b(u.page)}catch(e){console.error("Failed to delete review:",e),h.A.error("리뷰 삭제에 실패했습니다")}};return(0,t.jsxs)("section",{className:"max-w-7xl mx-auto px-6 py-16 bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6 mb-4 md:mb-0",children:[(0,t.jsxs)("h2",{className:"text-3xl font-bold text-gray-900",children:["리뷰 ",u.total,"개"]}),u.total>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,t.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:p.toFixed(1)})]})]}),r&&s&&(0,t.jsx)("button",{onClick:s,className:"px-6 py-3 bg-primary-500 text-white rounded-lg font-semibold hover:bg-primary-600 transition-colors",children:"리뷰 쓰기"})]}),u.total>0&&!v&&(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(c,{ratings:w,totalReviews:n.length,averageRating:p})}),v?(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,a)=>(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 animate-pulse"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-32 animate-pulse"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6 animate-pulse"})]})]},a))}):n.length>0?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,t.jsx)(i.Z,{review:e,onLike:N,onDelete:k,canDelete:(null==r?void 0:r.id)===e.userId},e.id))}),(0,t.jsx)(d.Z,{currentPage:u.page,totalPages:u.totalPages,onPageChange:e=>{b(e)}})]}):(0,t.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),(0,t.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"아직 리뷰가 없습니다"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"첫 번째 리뷰를 작성해보세요!"}),r&&s&&(0,t.jsx)("button",{onClick:s,className:"mt-6 px-6 py-3 bg-primary-500 text-white rounded-lg font-semibold hover:bg-primary-600 transition-colors",children:"리뷰 쓰기"})]})]})},g=e=>{let{placeId:a,placeName:s,isOpen:r,onClose:n,onSuccess:i}=e,[o,c]=(0,l.useState)(5),[d,m]=(0,l.useState)(""),[u,g]=(0,l.useState)(0),[p,j]=(0,l.useState)(!1);if(!r)return null;let w=async e=>{if(e.preventDefault(),d.length<10){h.A.warning("리뷰는 10자 이상 작성해주세요");return}try{j(!0),await (0,x.XU)({placeId:a,rating:o,content:d}),h.A.success("리뷰가 작성되었습니다"),i(),n()}catch(e){console.error("Failed to create review:",e)}finally{j(!1)}},f=()=>{p||(c(5),m(""),n())};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:f}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 rounded-t-2xl",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"리뷰 작성"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s})]}),(0,t.jsx)("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",disabled:p,children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("form",{onSubmit:w,className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"평점을 선택해주세요"}),(0,t.jsx)("div",{className:"flex gap-2",children:Array.from({length:5}).map((e,a)=>{let s=a+1,l=u>0?s<=u:s<=o;return(0,t.jsx)("button",{type:"button",onClick:()=>c(s),onMouseEnter:()=>g(s),onMouseLeave:()=>g(0),className:"transition-transform hover:scale-110",children:(0,t.jsx)("svg",{className:"w-10 h-10 ".concat(l?"text-yellow-400 fill-current":"text-gray-300"),viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})},a)})}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:[5===o&&"최고예요!",4===o&&"좋아요",3===o&&"괜찮아요",2===o&&"별로예요",1===o&&"최악이에요"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"content",className:"block text-sm font-semibold text-gray-900 mb-2",children:["리뷰 내용 ",(0,t.jsx)("span",{className:"text-error",children:"*"})]}),(0,t.jsx)("textarea",{id:"content",value:d,onChange:e=>m(e.target.value),placeholder:"이 장소에 대한 솔직한 리뷰를 남겨주세요 (최소 10자)",className:"w-full h-32 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none",required:!0,minLength:10}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:[d.length," / 최소 10자"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:f,disabled:p,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors disabled:opacity-50",children:"취소"}),(0,t.jsx)("button",{type:"submit",disabled:p||d.length<10,className:"flex-1 px-6 py-3 bg-primary-500 text-white rounded-lg font-semibold hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?"작성 중...":"리뷰 작성"})]})]})]})]})},p=s(9370),j=s(8837),w=s(826);function f(e){let{params:a}=e,s=(0,r.useRouter)(),{user:i,isAuthenticated:o}=(0,m.t)(),[c,d]=(0,l.useState)(null),[x,f]=(0,l.useState)([]),[v,y]=(0,l.useState)(!1),[b,N]=(0,l.useState)(null),[k,L]=(0,l.useState)(!1),[M,C]=(0,l.useState)(!0);(0,l.useEffect)(()=>{A()},[a.id]);let A=async()=>{try{C(!0);let e=await (0,j._7)(a.id);d(e);let s=await (0,j.fQ)({category:e.category,limit:4});if(f(s.data.filter(e=>e.id!==a.id)),o){let e=await (0,w.sd)(a.id);y(e.bookmarked),N(e.bookmarkId)}}catch(e){console.error("Failed to fetch data:",e)}finally{C(!1)}},S=async()=>{if(!o){h.A.warning("로그인이 필요합니다"),s.push("/login");return}try{if(v&&b)await (0,w.Tc)(b),y(!1),N(null),h.A.success("북마크가 해제되었습니다");else{let e=await (0,w.Ke)(a.id);y(!0),N(e.id),h.A.success("북마크에 추가되었습니다")}}catch(e){console.error("Failed to toggle bookmark:",e)}},z={TOURIST:{label:"관광지",color:"bg-primary-500"},RESTAURANT:{label:"맛집",color:"bg-orange-500"},ACCOMMODATION:{label:"숙소",color:"bg-purple-500"}};return M?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("div",{className:"w-full h-96 bg-gray-200 animate-pulse"}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-10",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-48 mb-4 animate-pulse"}),(0,t.jsx)("div",{className:"h-6 bg-gray-200 rounded w-32 animate-pulse"})]})]}):c?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("section",{className:"relative w-full h-96 bg-gray-900",children:c.images&&c.images.length>0?(0,t.jsx)("img",{src:c.images[0],alt:c.name,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,t.jsx)("svg",{className:"w-24 h-24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})}),(0,t.jsx)("section",{className:"max-w-7xl mx-auto px-6 py-10",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[(0,t.jsxs)("button",{onClick:()=>s.back(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-6",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,t.jsx)("span",{children:"뒤로가기"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("span",{className:"px-3 py-1.5 ".concat(z[c.category].color," text-white rounded-md text-sm font-semibold"),children:z[c.category].label}),(0,t.jsx)("button",{onClick:S,className:"w-10 h-10 rounded-full border flex items-center justify-center transition-all ".concat(v?"bg-primary-500 border-primary-500 text-white":"border-gray-300 text-gray-600 hover:border-primary-500"),children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:v?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})})]}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:c.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[(0,t.jsx)("svg",{className:"w-6 h-6 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),(0,t.jsx)("span",{className:"text-xl font-bold",children:c.averageRating.toFixed(1)}),(0,t.jsxs)("span",{className:"text-gray-600",children:["(",c.reviewCount,"개 리뷰)"]})]}),(0,t.jsx)("p",{className:"text-gray-700 leading-relaxed mb-8 whitespace-pre-wrap",children:c.description}),(0,t.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"text-gray-700",children:c.address})]}),c.contact&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,t.jsx)("span",{className:"text-gray-700",children:c.contact})]}),c.website&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),(0,t.jsx)("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:c.website})]}),c.operatingHours&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsx)("span",{className:"text-gray-700",children:c.operatingHours})]})]})]}),(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsx)("div",{className:"sticky top-24 w-full h-96",children:(0,t.jsx)(p.Z,{lat:c.latitude||37.5665,lng:c.longitude||126.978,name:c.name})})})]})}),(0,t.jsx)(u,{placeId:a.id,onWriteReview:()=>{if(!o){h.A.warning("로그인이 필요합니다"),s.push("/login");return}L(!0)}}),x.length>0&&(0,t.jsxs)("section",{className:"max-w-7xl mx-auto px-6 py-16 bg-white",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"이런 장소는 어때요?"}),(0,t.jsx)("p",{className:"text-gray-600 mb-10",children:"비슷한 카테고리의 인기 장소"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map(e=>{var a;return(0,t.jsx)(n.Z,{...e,image:null===(a=e.images)||void 0===a?void 0:a[0],rating:e.averageRating,onClick:e=>s.push("/places/".concat(e))},e.id)})})]}),(0,t.jsx)(g,{placeId:a.id,placeName:c.name,isOpen:k,onClose:()=>L(!1),onSuccess:()=>{A()}})]}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"장소를 찾을 수 없습니다"}),(0,t.jsx)("button",{onClick:()=>s.push("/places"),className:"text-primary-600 hover:text-primary-700",children:"목록으로 돌아가기"})]})})}},9370:function(e,a,s){"use strict";s.d(a,{Z:function(){return n}});var t=s(7437),l=s(2265),r=s(257);function n(e){let{lat:a,lng:s,name:n,places:i,zoom:o=3}=e,c=(0,l.useRef)(null);return((0,l.useEffect)(()=>{var e;console.log("=== Kakao Map Component Debug ==="),console.log("window.kakao:",window.kakao),console.log("window.kakao?.maps:",null===(e=window.kakao)||void 0===e?void 0:e.maps),console.log("API Key:",r.env.NEXT_PUBLIC_KAKAO_MAP_KEY?"설정됨":"미설정"),console.log("Coordinates:",{lat:a,lng:s}),console.log("Places count:",(null==i?void 0:i.length)||0);let t=()=>{if(!window.kakao||!window.kakao.maps){console.error("❌ Kakao Map API not loaded yet");return}if(console.log("✅ Starting to initialize Kakao Map..."),!c.current)return;let e={center:new window.kakao.maps.LatLng(a,s),level:o},t=new window.kakao.maps.Map(c.current,e);if(i&&i.length>0){let e=new window.kakao.maps.LatLngBounds;i.forEach(a=>{if(!a.latitude||!a.longitude||0===a.latitude||0===a.longitude)return;let s=new window.kakao.maps.LatLng(a.latitude,a.longitude),l=new window.kakao.maps.Marker({position:s,title:a.name});l.setMap(t),e.extend(s);let r=new window.kakao.maps.InfoWindow({content:'\n              <div style="padding:10px;min-width:150px;">\n                <div style="font-weight:bold;margin-bottom:5px;">'.concat(a.name,"</div>\n                ").concat(a.address?'<div style="font-size:12px;color:#666;">'.concat(a.address,"</div>"):"","\n              </div>\n            ")});window.kakao.maps.event.addListener(l,"click",function(){r.open(t,l)})}),t.setBounds(e),console.log("✅ ".concat(i.length,"개의 마커가 표시되었습니다."))}else{let e=new window.kakao.maps.LatLng(a,s),l=new window.kakao.maps.Marker({position:e});l.setMap(t),n&&new window.kakao.maps.InfoWindow({content:'<div style="padding:10px;font-size:14px;">'.concat(n,"</div>")}).open(t,l),console.log("✅ 단일 마커가 표시되었습니다.")}console.log("✅ Kakao Map initialized successfully!")};if(window.kakao&&window.kakao.maps)console.log("✅ Kakao Maps SDK detected, loading map..."),window.kakao.maps.load(t);else{console.warn("⏳ Waiting for Kakao Maps SDK to load...");let e=setInterval(()=>{window.kakao&&window.kakao.maps&&(console.log("✅ Kakao Maps SDK loaded, initializing map..."),clearInterval(e),window.kakao.maps.load(t))},100);setTimeout(()=>{clearInterval(e),window.kakao&&window.kakao.maps||console.error("❌ Kakao Maps SDK failed to load within 10 seconds")},1e4)}},[a,s,n,i,o]),a&&s&&0!==a&&0!==s)?(0,t.jsxs)("div",{className:"w-full h-full relative",children:[(0,t.jsx)("div",{ref:c,className:"w-full h-full rounded-xl"}),!window.kakao&&(0,t.jsxs)("div",{className:"absolute inset-0 bg-gray-100 rounded-xl flex flex-col items-center justify-center",children:[(0,t.jsxs)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Kakao Map (준비 중)"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["좌표: ",a.toFixed(6),", ",s.toFixed(6)]}),(0,t.jsx)("div",{className:"mt-4 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-xs text-blue-700",children:"Kakao Map API 키를 설정하면 지도가 표시됩니다"})})]})]}):(0,t.jsx)("div",{className:"w-full h-full bg-gray-100 rounded-xl flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center text-gray-500",children:[(0,t.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),(0,t.jsx)("p",{className:"text-sm",children:"위치 정보가 없습니다"})]})})}},8837:function(e,a,s){"use strict";s.d(a,{Nc:function(){return n},_7:function(){return r},fQ:function(){return l}});var t=s(6305);let l=async e=>(await t.x.get("/api/places",{params:e})).data,r=async e=>(await t.x.get("/api/places/".concat(e))).data,n=async e=>(await t.x.post("/api/places",e)).data},9904:function(e,a,s){"use strict";s.d(a,{Jh:function(){return l},XU:function(){return r},i0:function(){return n},yA:function(){return i}});var t=s(6305);let l=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return(await t.x.get("/api/reviews",{params:{placeId:e,page:a,limit:s}})).data},r=async e=>(await t.x.post("/api/reviews",e)).data,n=async e=>{await t.x.delete("/api/reviews/".concat(e))},i=async e=>(await t.x.post("/api/reviews/".concat(e,"/like"))).data}},function(e){e.O(0,[3464,5883,334,2971,2117,1744],function(){return e(e.s=5937)}),_N_E=e.O()}]);