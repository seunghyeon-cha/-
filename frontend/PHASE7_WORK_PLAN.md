# Phase 7 작업 계획서 - 마이페이지 기능 구현

**작성일**: 2025-11-09
**작성자**: Product Owner
**담당 팀**: Backend Team, Frontend Team
**예상 기간**: 4-5일

---

## 📋 작업 개요

### 목표
사용자가 자신의 활동을 관리하고 확인할 수 있는 **마이페이지(My Page)** 기능 구현

### 구현할 기능
1. **내가 쓴 글** - 사용자가 작성한 커뮤니티 게시글 목록 및 관리
2. **내가 쓴 리뷰** - 사용자가 작성한 장소 리뷰 목록 및 관리
3. **북마크** - 사용자가 저장한 장소 목록
4. **알림 설정** - 푸시 알림, 이메일 알림 등 설정

### 우선순위
1. **High**: 내가 쓴 글, 내가 쓴 리뷰, 북마크 (핵심 기능)
2. **Medium**: 알림 설정 (향후 확장 가능)

---

## 🎯 요구사항 분석

### 1. 내가 쓴 글 (My Boards)

**기능 명세**:
- 로그인한 사용자가 작성한 모든 게시글 목록 표시
- 게시글 정렬: 최신순, 좋아요 많은 순, 조회수 순
- 게시글 검색: 제목 + 내용
- 페이지네이션 (10개씩)
- 게시글 상태 표시 (공개/비공개)
- 각 게시글별 통계: 조회수, 좋아요 수, 댓글 수
- 빠른 액션: 수정, 삭제, 공개/비공개 전환

**화면 구성**:
```
┌─────────────────────────────────────────────────────┐
│ 내가 쓴 글                [검색] [정렬: 최신순 ▼]    │
├─────────────────────────────────────────────────────┤
│ ┌───────────────────────────────────────────────┐   │
│ │ [제목] 서울 3박4일 여행 후기                   │   │
│ │ 내용 미리보기...                               │   │
│ │ 👁 120 | 👍 15 | 💬 8 | 📅 2025-11-01        │   │
│ │ [수정] [삭제] [비공개로 전환]                  │   │
│ └───────────────────────────────────────────────┘   │
│ ┌───────────────────────────────────────────────┐   │
│ │ [제목] 부산 맛집 추천                          │   │
│ │ ...                                            │   │
│ └───────────────────────────────────────────────┘   │
│                                                     │
│              [이전] 1 2 3 [다음]                    │
└─────────────────────────────────────────────────────┘
```

### 2. 내가 쓴 리뷰 (My Reviews)

**기능 명세**:
- 로그인한 사용자가 작성한 모든 장소 리뷰 목록 표시
- 리뷰 정렬: 최신순, 평점 높은 순, 좋아요 많은 순
- 장소별 필터링
- 페이지네이션 (10개씩)
- 각 리뷰별 정보: 장소명, 평점, 작성일, 좋아요 수
- 빠른 액션: 수정, 삭제

**화면 구성**:
```
┌─────────────────────────────────────────────────────┐
│ 내가 쓴 리뷰              [정렬: 최신순 ▼]           │
├─────────────────────────────────────────────────────┤
│ ┌───────────────────────────────────────────────┐   │
│ │ 🏨 롯데호텔 서울                               │   │
│ │ ⭐⭐⭐⭐⭐ 5.0                                 │   │
│ │ "정말 좋았어요! 직원분들도 친절하고..."        │   │
│ │ 👍 10 | 📅 2025-11-05                         │   │
│ │ [수정] [삭제]                                  │   │
│ └───────────────────────────────────────────────┘   │
│ ┌───────────────────────────────────────────────┐   │
│ │ 🍽 맛집 이름                                   │   │
│ │ ⭐⭐⭐⭐ 4.0                                   │   │
│ │ ...                                            │   │
│ └───────────────────────────────────────────────┘   │
│                                                     │
│              [이전] 1 2 3 [다음]                    │
└─────────────────────────────────────────────────────┘
```

### 3. 북마크 (Bookmarks)

**기능 명세**:
- 로그인한 사용자가 저장한 장소 목록 표시
- 지역별 필터링 (서울, 부산, 제주 등)
- 카테고리별 필터링 (관광지, 음식점, 숙박 등)
- 정렬: 최신 저장순, 이름순
- 페이지네이션 (12개씩, 그리드 레이아웃)
- 각 장소별 정보: 이름, 주소, 카테고리, 평점
- 빠른 액션: 북마크 해제, 장소 상세 보기

**화면 구성**:
```
┌─────────────────────────────────────────────────────┐
│ 북마크                [지역: 전체 ▼] [카테고리: 전체 ▼] │
├─────────────────────────────────────────────────────┤
│ ┌──────────┐ ┌──────────┐ ┌──────────┐              │
│ │  [이미지] │ │  [이미지] │ │  [이미지] │              │
│ │ 장소명    │ │ 장소명    │ │ 장소명    │              │
│ │ 주소      │ │ 주소      │ │ 주소      │              │
│ │ ⭐ 4.5   │ │ ⭐ 4.0   │ │ ⭐ 5.0   │              │
│ │ [💾해제]  │ │ [💾해제]  │ │ [💾해제]  │              │
│ └──────────┘ └──────────┘ └──────────┘              │
│ ┌──────────┐ ┌──────────┐ ┌──────────┐              │
│ │  ...      │ │  ...      │ │  ...      │              │
│ └──────────┘ └──────────┘ └──────────┘              │
│                                                     │
│              [이전] 1 2 3 [다음]                    │
└─────────────────────────────────────────────────────┘
```

### 4. 알림 설정 (Notification Settings)

**기능 명세**:
- 푸시 알림 On/Off
- 이메일 알림 On/Off
- 알림 종류별 설정:
  - 내 게시글에 댓글 달림
  - 내 게시글에 좋아요
  - 내 리뷰에 좋아요
  - 시스템 공지사항
- 알림 시간대 설정 (선택적)
- 알림 수신 방법: 앱 푸시, 이메일, SMS (향후)

**화면 구성**:
```
┌─────────────────────────────────────────────────────┐
│ 알림 설정                                            │
├─────────────────────────────────────────────────────┤
│ ┌─────────────────────────────────────────────┐     │
│ │ 푸시 알림                          [ON/OFF] │     │
│ │ 앱에서 알림을 받습니다                      │     │
│ └─────────────────────────────────────────────┘     │
│                                                     │
│ ┌─────────────────────────────────────────────┐     │
│ │ 이메일 알림                        [ON/OFF] │     │
│ │ 이메일로 알림을 받습니다                    │     │
│ └─────────────────────────────────────────────┘     │
│                                                     │
│ 알림 종류                                           │
│ ┌─────────────────────────────────────────────┐     │
│ │ ☑ 내 게시글에 댓글이 달렸을 때              │     │
│ │ ☑ 내 게시글에 좋아요가 눌렸을 때            │     │
│ │ ☑ 내 리뷰에 좋아요가 눌렸을 때              │     │
│ │ ☑ 시스템 공지사항                           │     │
│ └─────────────────────────────────────────────┘     │
│                                                     │
│                      [저장]                         │
└─────────────────────────────────────────────────────┘
```

---

## 👥 팀별 역할 및 작업 지시

### **Backend Team**

#### 작업 1: API 확인 및 문서화 (우선순위: High)

**담당자**: Backend Developer
**예상 시간**: 2-3시간
**마감**: Day 1

**작업 내용**:
1. 기존 API 확인
   - `GET /api/api/users/me/boards` - 내가 쓴 글 목록
   - `GET /api/api/users/me/reviews` - 내가 쓴 리뷰 목록
   - `GET /api/api/bookmarks` - 북마크 목록
   - 알림 관련 API 존재 여부 확인

2. API 응답 형식 확인
   - 페이지네이션 지원 여부
   - 정렬 옵션 지원 여부
   - 필터링 옵션 지원 여부

3. 부족한 API 파악
   - 게시글 공개/비공개 전환 API
   - 알림 설정 관련 API
   - 통계 정보 포함 여부

4. 문서 작성
   - `PHASE7_BACKEND_API_REVIEW.md` 생성
   - 각 API의 엔드포인트, 파라미터, 응답 형식 정리
   - 프론트엔드에 전달할 사항 정리

**체크리스트**:
- [ ] 내가 쓴 글 API 확인 및 테스트
- [ ] 내가 쓴 리뷰 API 확인 및 테스트
- [ ] 북마크 API 확인 및 테스트
- [ ] 알림 설정 API 확인
- [ ] API 문서 작성 완료
- [ ] 프론트엔드 팀에 전달

#### 작업 2: 필요 시 API 추가/수정 (우선순위: Medium)

**조건**: API 검토 후 필요한 경우에만

**가능한 추가 작업**:
- 알림 설정 API 구현
- 게시글 일괄 삭제 API
- 통계 정보 API

---

### **Frontend Team**

#### 작업 1: 프로젝트 구조 및 라우팅 확인 (우선순위: High)

**담당자**: Frontend Developer
**예상 시간**: 1시간
**마감**: Day 1

**작업 내용**:
1. 현재 라우팅 구조 확인
   - `/mypage` 또는 `/my` 경로 사용 여부
   - 중첩 라우팅 구조 설계

2. 레이아웃 설계
   - 마이페이지 공통 레이아웃 (사이드바 또는 탭)
   - 네비게이션 구조

3. 기존 컴포넌트 재사용 가능 여부 확인
   - 게시글 카드 컴포넌트
   - 리뷰 카드 컴포넌트
   - 장소 카드 컴포넌트
   - 페이지네이션 컴포넌트

**예상 라우팅 구조**:
```
/my
  /boards       - 내가 쓴 글
  /reviews      - 내가 쓴 리뷰
  /bookmarks    - 북마크
  /settings     - 알림 설정
```

**체크리스트**:
- [ ] 라우팅 구조 결정
- [ ] 레이아웃 디자인 (사이드바 vs 탭)
- [ ] 재사용 가능한 컴포넌트 파악
- [ ] 새로 만들어야 할 컴포넌트 목록 작성

#### 작업 2: 마이페이지 공통 레이아웃 구현 (우선순위: High)

**예상 시간**: 2-3시간
**마감**: Day 1

**작업 내용**:
1. 레이아웃 컴포넌트 생성
   - `/src/app/(main)/my/layout.tsx` (App Router)
   - 또는 공통 레이아웃 컴포넌트

2. 네비게이션 구현
   - 사이드바 또는 탭 네비게이션
   - 활성 상태 표시
   - 반응형 디자인

3. 인증 확인
   - 로그인 안 한 사용자 리다이렉트
   - 로딩 상태 처리

**참고 레이아웃 예시**:
```tsx
// Sidebar Navigation
┌──────────────────────────────────────┐
│ 마이페이지          [프로필 이미지]  │
├────────┬─────────────────────────────┤
│        │                             │
│ 내 활동 │   [페이지 컨텐츠]            │
│ • 글    │                             │
│ • 리뷰  │                             │
│        │                             │
│ 관리    │                             │
│ • 북마크│                             │
│        │                             │
│ 설정    │                             │
│ • 알림  │                             │
└────────┴─────────────────────────────┘
```

**체크리스트**:
- [ ] 레이아웃 파일 생성
- [ ] 네비게이션 UI 구현
- [ ] 활성 상태 표시
- [ ] 인증 체크 로직
- [ ] 반응형 디자인 (모바일 햄버거 메뉴)

#### 작업 3: 내가 쓴 글 페이지 구현 (우선순위: High)

**예상 시간**: 4-5시간
**마감**: Day 2

**작업 내용**:
1. 페이지 컴포넌트 생성
   - `/src/app/(main)/my/boards/page.tsx`

2. 데이터 페칭
   - `GET /api/api/users/me/boards` 호출
   - 로딩 상태 처리
   - 에러 처리

3. UI 구현
   - 게시글 목록 (카드 또는 리스트)
   - 검색 기능
   - 정렬 옵션 (최신순, 좋아요순, 조회수순)
   - 페이지네이션

4. 액션 구현
   - 수정 버튼 → 게시글 수정 페이지로 이동
   - 삭제 버튼 → 확인 후 삭제
   - 공개/비공개 전환 (API 있는 경우)

**체크리스트**:
- [ ] 페이지 파일 생성
- [ ] API 연동 및 데이터 페칭
- [ ] 게시글 목록 UI 구현
- [ ] 검색 기능 구현
- [ ] 정렬 기능 구현
- [ ] 페이지네이션 구현
- [ ] 수정/삭제 기능 구현
- [ ] 빈 상태 UI (게시글 없을 때)
- [ ] 로딩 스켈레톤
- [ ] 에러 처리

#### 작업 4: 내가 쓴 리뷰 페이지 구현 (우선순위: High)

**예상 시간**: 4-5시간
**마감**: Day 2-3

**작업 내용**:
1. 페이지 컴포넌트 생성
   - `/src/app/(main)/my/reviews/page.tsx`

2. 데이터 페칭
   - `GET /api/api/users/me/reviews` 호출
   - 로딩 상태 처리
   - 에러 처리

3. UI 구현
   - 리뷰 목록 (카드)
   - 정렬 옵션 (최신순, 평점순, 좋아요순)
   - 장소별 필터링 (선택적)
   - 페이지네이션

4. 액션 구현
   - 수정 버튼 → 리뷰 수정 모달 또는 페이지
   - 삭제 버튼 → 확인 후 삭제
   - 장소 클릭 → 장소 상세 페이지로 이동

**체크리스트**:
- [ ] 페이지 파일 생성
- [ ] API 연동 및 데이터 페칭
- [ ] 리뷰 목록 UI 구현
- [ ] 평점 표시 (별점)
- [ ] 정렬 기능 구현
- [ ] 페이지네이션 구현
- [ ] 수정/삭제 기능 구현
- [ ] 장소 링크 연결
- [ ] 빈 상태 UI (리뷰 없을 때)
- [ ] 로딩 스켈레톤
- [ ] 에러 처리

#### 작업 5: 북마크 페이지 구현 (우선순위: High)

**예상 시간**: 4-5시간
**마감**: Day 3

**작업 내용**:
1. 페이지 컴포넌트 생성
   - `/src/app/(main)/my/bookmarks/page.tsx`

2. 데이터 페칭
   - `GET /api/api/bookmarks` 호출
   - 로딩 상태 처리
   - 에러 처리

3. UI 구현
   - 장소 그리드 레이아웃 (3-4열)
   - 지역별 필터
   - 카테고리별 필터
   - 정렬 옵션 (최신순, 이름순)
   - 페이지네이션

4. 액션 구현
   - 북마크 해제 버튼
   - 장소 클릭 → 장소 상세 페이지로 이동

**체크리스트**:
- [ ] 페이지 파일 생성
- [ ] API 연동 및 데이터 페칭
- [ ] 그리드 레이아웃 구현
- [ ] 장소 카드 UI (이미지, 이름, 주소, 평점)
- [ ] 지역 필터 구현
- [ ] 카테고리 필터 구현
- [ ] 정렬 기능 구현
- [ ] 페이지네이션 구현
- [ ] 북마크 해제 기능
- [ ] 빈 상태 UI (북마크 없을 때)
- [ ] 로딩 스켈레톤
- [ ] 에러 처리

#### 작업 6: 알림 설정 페이지 구현 (우선순위: Medium)

**예상 시간**: 3-4시간
**마감**: Day 4

**작업 내용**:
1. 페이지 컴포넌트 생성
   - `/src/app/(main)/my/settings/page.tsx`

2. 데이터 페칭 (API 있는 경우)
   - 현재 알림 설정 불러오기

3. UI 구현
   - 토글 스위치 (푸시 알림, 이메일 알림)
   - 체크박스 (알림 종류별 설정)
   - 저장 버튼

4. 기능 구현
   - 설정 변경
   - 저장 (API 호출 또는 로컬 스토리지)
   - 성공/실패 토스트

**참고**:
- 백엔드 API가 없는 경우 프론트엔드만 구현 (향후 연동 준비)
- 로컬 스토리지 또는 상태 관리로 임시 저장

**체크리스트**:
- [ ] 페이지 파일 생성
- [ ] 설정 폼 UI 구현
- [ ] 토글 스위치 구현
- [ ] 체크박스 그룹 구현
- [ ] 저장 기능 (API 또는 로컬)
- [ ] 토스트 알림
- [ ] 에러 처리

---

## 📅 일정 계획

### Day 1 (2025-11-09)
- [x] **PO**: Phase 7 작업 계획 수립 ✅
- [ ] **Backend**: API 확인 및 문서화
- [ ] **Frontend**: 라우팅 구조 확인 및 레이아웃 구현

### Day 2 (2025-11-10)
- [ ] **Frontend**: 내가 쓴 글 페이지 구현
- [ ] **Frontend**: 내가 쓴 리뷰 페이지 구현 시작

### Day 3 (2025-11-11)
- [ ] **Frontend**: 내가 쓴 리뷰 페이지 완료
- [ ] **Frontend**: 북마크 페이지 구현

### Day 4 (2025-11-12)
- [ ] **Frontend**: 알림 설정 페이지 구현
- [ ] **All**: 테스트 및 버그 수정

### Day 5 (2025-11-13)
- [ ] **All**: 최종 테스트
- [ ] **PO**: Phase 7 완성 보고서 작성

---

## 🔧 기술 스택 및 라이브러리

### 사용 예정
- **Next.js 14** (App Router)
- **React 18** (Client Components)
- **TypeScript**
- **Tailwind CSS** (스타일링)
- **기존 API 클라이언트** (`/src/lib/api/`)
- **Toast 라이브러리** (react-hot-toast 또는 기존 사용 중인 것)

### 새로 필요한 것 (검토 필요)
- 토글 스위치 컴포넌트 (직접 구현 또는 라이브러리)
- 스켈레톤 로딩 (직접 구현 추천)

---

## 🎨 디자인 가이드라인

### 공통 스타일
- **Primary Color**: 기존 테마 색상 유지
- **카드 스타일**: 흰색 배경, rounded-lg, shadow-sm
- **버튼**: Primary 버튼 (수정), Danger 버튼 (삭제), Ghost 버튼 (기타)
- **여백**: 일관된 spacing (p-4, p-6, gap-4, gap-6)

### 반응형 디자인
- **Desktop**: 사이드바 + 컨텐츠 (2-column)
- **Tablet**: 사이드바 축소 또는 탭
- **Mobile**: 햄버거 메뉴 + 전체 너비 컨텐츠

### 빈 상태 (Empty State)
- 아이콘 + 메시지 + 액션 버튼
- 예: "아직 작성한 글이 없습니다. 첫 글을 작성해보세요!"

### 로딩 상태
- 스켈레톤 UI 사용 (카드 모양 유지)
- 또는 스피너 + "로딩 중..." 메시지

---

## ⚠️ 주의사항 및 제약사항

### 1. 에러 처리 우선
- **모든 작업 중 에러 발생 시 즉시 해결 후 진행**
- 컴파일 에러, 런타임 에러 모두 즉시 해결

### 2. 인증 확인
- 모든 마이페이지는 로그인 필수
- 비로그인 시 로그인 페이지로 리다이렉트

### 3. 데이터 없는 경우 처리
- 빈 상태 UI 필수
- 사용자에게 명확한 안내

### 4. 페이지네이션
- 성능을 위해 무한 스크롤보다 페이지네이션 사용
- 한 페이지당 10-12개 아이템

### 5. API 의존성
- 백엔드 API 확인 후 구현
- API 없는 경우 목업(Mock) 데이터로 UI 먼저 구현

---

## 📊 성공 기준

### 필수 (Must Have)
- [x] 내가 쓴 글 목록 및 관리 기능
- [x] 내가 쓴 리뷰 목록 및 관리 기능
- [x] 북마크 목록 및 해제 기능
- [x] 모든 페이지 반응형 디자인
- [x] 로딩/에러 상태 처리
- [x] 인증 체크

### 선택 (Should Have)
- [ ] 알림 설정 기능
- [ ] 검색 및 필터 고급 옵션
- [ ] 일괄 삭제 기능
- [ ] 통계 정보 (총 글 수, 총 좋아요 수 등)

### 추가 (Nice to Have)
- [ ] 내보내기 기능 (PDF, CSV)
- [ ] 게시글 임시 저장함
- [ ] 활동 히스토리

---

## 📝 작업 기록 및 문서화

### 필수 문서
1. **PHASE7_WORK_PLAN.md** (현재 문서) ✅
2. **PHASE7_BACKEND_API_REVIEW.md** (Backend 작성)
3. **PHASE7_COMPLETION_REPORT.md** (완료 후 작성)

### 코드 주석
- 각 컴포넌트 상단에 목적 및 사용법 주석
- 복잡한 로직에 설명 주석

### Commit 메시지
```
feat: 내가 쓴 글 페이지 구현
feat: 북마크 페이지 필터링 기능 추가
fix: 리뷰 삭제 시 에러 수정
style: 마이페이지 레이아웃 반응형 개선
```

---

## 🚀 시작 지시

### Backend Team
**즉시 시작**: API 확인 및 문서화
- 기존 API 엔드포인트 확인
- Swagger 문서 확인 (http://localhost:4000/api/docs)
- `PHASE7_BACKEND_API_REVIEW.md` 작성
- Frontend 팀에 API 정보 전달

### Frontend Team
**Backend 검토 후 시작**: 레이아웃 및 페이지 구현
- Backend API 정보 확인
- 라우팅 구조 설계
- 공통 레이아웃 구현
- 각 페이지 순차 구현

---

## 📞 커뮤니케이션

### 일일 체크인
- 매일 오전: 오늘 할 작업 확인
- 매일 오후: 진행 상황 공유

### 블로커(Blocker) 처리
- 막히는 부분 즉시 공유
- 에러 발생 시 즉시 해결

### 코드 리뷰
- 주요 기능 완료 시 리뷰 요청
- 피드백 반영 후 다음 작업 진행

---

**작성 완료일**: 2025-11-09
**Product Owner 승인**: ✅
**Backend Team 확인**: 대기 중
**Frontend Team 확인**: 대기 중

---

## 다음 단계

1. **Backend Team**: API 확인 작업 시작
2. **Frontend Team**: Backend 검토 완료 대기
3. **모든 팀**: 에러 발생 시 즉시 공유 및 해결

**Let's build an amazing My Page! 🚀**
