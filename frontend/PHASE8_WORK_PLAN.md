# Phase 8 작업 계획서 - 사업자 페이지 마무리

**작성일**: 2025-11-09
**작성자**: Product Owner
**담당 팀**: Backend Team, Frontend Team
**예상 기간**: 3-4일

---

## 📋 작업 개요

### 목표
사업자 회원이 자신의 업장(장소)과 프로모션을 관리할 수 있는 **사업자 관리 페이지** 완성

### 구현할 기능
1. **업장 관리** - 사업자가 소유한 장소 목록 및 관리
2. **프로모션 관리** - 장소별 프로모션 생성, 수정, 삭제, 활성화/비활성화

### 우선순위
1. **High**: 업장 관리 (목록, 상세, 통계)
2. **High**: 프로모션 관리 (CRUD, 활성화 토글)

---

## 🎯 요구사항 분석

### 1. 업장 관리 (Business Places Management)

**기능 명세**:
- 사업자가 소유한 모든 장소 목록 표시
- 장소별 상세 정보 및 통계
- 장소 상태 관리 (운영 중, 휴업 등)
- 장소별 리뷰 및 평점 확인
- 장소별 프로모션 목록 연결

**화면 구성**:
```
┌─────────────────────────────────────────────────────┐
│ 내 업장                           [+ 새 업장 등록]   │
├─────────────────────────────────────────────────────┤
│ ┌───────────────────────────────────────────────┐   │
│ │ [이미지] 롯데호텔 서울                         │   │
│ │ 서울시 중구 소공동                             │   │
│ │ 숙박 | ⭐ 4.8 (234개 리뷰)                   │   │
│ │                                                │   │
│ │ 📊 통계                                        │   │
│ │ - 리뷰: 234개                                  │   │
│ │ - 북마크: 156개                                │   │
│ │ - 조회수: 12,345                               │   │
│ │                                                │   │
│ │ [상세 보기] [통계] [프로모션 관리]             │   │
│ └───────────────────────────────────────────────┘   │
│ ┌───────────────────────────────────────────────┐   │
│ │ ...                                            │   │
│ └───────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────┘
```

### 2. 프로모션 관리 (Promotion Management)

**기능 명세**:
- 장소별 프로모션 목록 표시
- 프로모션 생성 (제목, 내용, 할인율, 기간)
- 프로모션 수정
- 프로모션 삭제
- 프로모션 활성화/비활성화 토글
- 프로모션 기간 관리 (시작일, 종료일)

**화면 구성**:
```
┌─────────────────────────────────────────────────────┐
│ 프로모션 관리                     [+ 새 프로모션]    │
│ 롯데호텔 서울                                        │
├─────────────────────────────────────────────────────┤
│ ┌───────────────────────────────────────────────┐   │
│ │ 🎉 여름 휴가 특별 할인                         │   │
│ │ 객실 30% 할인                                  │   │
│ │                                                │   │
│ │ 기간: 2025-07-01 ~ 2025-08-31                 │   │
│ │ 상태: 🟢 활성                                  │   │
│ │                                                │   │
│ │ [수정] [삭제] [비활성화]                       │   │
│ └───────────────────────────────────────────────┘   │
│ ┌───────────────────────────────────────────────┐   │
│ │ 🎁 웰컴 패키지                                 │   │
│ │ 조식 무료 제공                                 │   │
│ │                                                │   │
│ │ 기간: 2025-06-01 ~ 2025-12-31                 │   │
│ │ 상태: 🔴 비활성                                │   │
│ │                                                │   │
│ │ [수정] [삭제] [활성화]                         │   │
│ └───────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────┘
```

---

## 👥 팀별 역할 및 작업 지시

### **Backend Team**

#### 작업 1: API 확인 및 문서화 (우선순위: High)

**담당자**: Backend Developer
**예상 시간**: 1-2시간
**마감**: Day 1

**작업 내용**:
1. 기존 API 확인
   - `GET /api/business/places` - 내 업장 목록
   - `GET /api/business/stats` - 통계
   - `GET /api/business/stats/places` - 장소별 통계
   - `GET /api/business/stats/places/:placeId` - 특정 장소 통계
   - `GET /api/promotions/my` - 내 프로모션 목록
   - `GET /api/promotions/places/:placeId` - 장소별 프로모션
   - `POST /api/promotions/places/:placeId` - 프로모션 생성
   - `PUT /api/promotions/:id` - 프로모션 수정
   - `DELETE /api/promotions/:id` - 프로모션 삭제
   - `PUT /api/promotions/:id/toggle` - 프로모션 활성화/비활성화

2. API 응답 형식 확인
   - 페이지네이션 지원 여부
   - 필터링 옵션 지원 여부
   - 관계 데이터 포함 여부 (장소-프로모션)

3. 문서 작성
   - `PHASE8_BACKEND_API_REVIEW.md` 생성
   - 각 API의 엔드포인트, 파라미터, 응답 형식 정리
   - 프론트엔드에 전달할 사항 정리

**체크리스트**:
- [ ] 업장 목록 API 확인 및 테스트
- [ ] 통계 API 확인 및 테스트
- [ ] 프로모션 CRUD API 확인 및 테스트
- [ ] 프로모션 토글 API 확인
- [ ] API 문서 작성 완료
- [ ] 프론트엔드 팀에 전달

---

### **Frontend Team**

#### 작업 1: 사업자 페이지 구조 확인 (우선순위: High)

**담당자**: Frontend Developer
**예상 시간**: 1시간
**마감**: Day 1

**작업 내용**:
1. 현재 사업자 페이지 구조 확인
   - `/business` 경로 확인
   - 기존 페이지 확인
   - 레이아웃 확인

2. 라우팅 설계
   - `/business/places` - 업장 목록
   - `/business/places/:id` - 업장 상세
   - `/business/promotions` - 전체 프로모션 목록
   - `/business/places/:placeId/promotions` - 장소별 프로모션

3. 기존 컴포넌트 재사용 가능 여부 확인

**체크리스트**:
- [ ] 기존 사업자 페이지 확인
- [ ] 라우팅 구조 설계
- [ ] 재사용 가능한 컴포넌트 파악

#### 작업 2: 업장 관리 페이지 구현 (우선순위: High)

**예상 시간**: 4-5시간
**마감**: Day 2

**작업 내용**:
1. 업장 목록 페이지
   - `/src/app/(main)/business/places/page.tsx`
   - 업장 목록 표시 (카드 형태)
   - 통계 정보 표시
   - 필터링 (전체, 운영 중, 휴업 등)

2. 업장 상세 페이지
   - `/src/app/(main)/business/places/[id]/page.tsx`
   - 장소 상세 정보
   - 리뷰 목록
   - 통계 차트 (선택적)

3. 통계 컴포넌트
   - `/src/components/business/PlaceStats.tsx`
   - 리뷰 수, 평점, 북마크, 조회수 등

**체크리스트**:
- [ ] 업장 목록 페이지 생성
- [ ] API 연동 및 데이터 페칭
- [ ] 카드 UI 구현
- [ ] 통계 정보 표시
- [ ] 빈 상태 UI
- [ ] 로딩 스켈레톤
- [ ] 에러 처리

#### 작업 3: 프로모션 관리 페이지 구현 (우선순위: High)

**예상 시간**: 5-6시간
**마감**: Day 3

**작업 내용**:
1. 프로모션 목록 페이지
   - `/src/app/(main)/business/promotions/page.tsx`
   - 또는 `/src/app/(main)/business/places/[placeId]/promotions/page.tsx`
   - 프로모션 목록 표시
   - 활성/비활성 필터
   - 기간별 필터 (진행 중, 예정, 종료)

2. 프로모션 생성/수정 모달 또는 페이지
   - 제목, 설명 입력
   - 할인율/혜택 입력
   - 시작일, 종료일 선택
   - 이미지 업로드 (선택적)

3. 프로모션 카드 컴포넌트
   - `/src/components/business/PromotionCard.tsx`
   - 프로모션 정보 표시
   - 수정/삭제/토글 버튼

**체크리스트**:
- [ ] 프로모션 목록 페이지 생성
- [ ] API 연동
- [ ] 프로모션 생성 폼 구현
- [ ] 프로모션 수정 기능
- [ ] 프로모션 삭제 기능
- [ ] 활성화/비활성화 토글
- [ ] 기간 표시 및 검증
- [ ] 빈 상태 UI
- [ ] 로딩 스켈레톤
- [ ] 에러 처리

---

## 📅 일정 계획

### Day 1 (2025-11-09)
- [x] **PO**: Phase 8 작업 계획 수립 ✅
- [ ] **Backend**: API 확인 및 문서화
- [ ] **Frontend**: 사업자 페이지 구조 확인

### Day 2 (2025-11-10)
- [ ] **Frontend**: 업장 관리 페이지 구현
- [ ] **Frontend**: 통계 컴포넌트 구현

### Day 3 (2025-11-11)
- [ ] **Frontend**: 프로모션 관리 페이지 구현
- [ ] **Frontend**: 프로모션 생성/수정 폼 구현

### Day 4 (2025-11-12)
- [ ] **All**: 테스트 및 버그 수정
- [ ] **PO**: Phase 8 완성 보고서 작성

---

## 🔧 기술 스택 및 라이브러리

### 사용 예정
- **Next.js 14** (App Router)
- **React 18** (Client Components)
- **TypeScript**
- **Tailwind CSS** (스타일링)
- **기존 API 클라이언트** (`/src/lib/api/business.ts`, `/src/lib/api/promotions.ts`)
- **Toast 라이브러리** (react-hot-toast)
- **날짜 선택기** (선택적, 필요 시 추가)

### 새로 필요한 것 (검토 필요)
- 날짜 선택기 라이브러리 (react-datepicker 또는 네이티브 input type="date")
- 차트 라이브러리 (선택적, recharts 또는 chart.js)

---

## 🎨 디자인 가이드라인

### 공통 스타일
- **Primary Color**: 기존 테마 색상 유지
- **카드 스타일**: 흰색 배경, rounded-lg, shadow-sm
- **상태 표시**:
  - 활성: 🟢 녹색
  - 비활성: 🔴 빨간색
  - 진행 중: 🟡 노란색
- **버튼**: Primary 버튼 (생성), Ghost 버튼 (토글)

### 반응형 디자인
- **Desktop**: 그리드 레이아웃 (2-3열)
- **Tablet**: 그리드 2열
- **Mobile**: 단일 열

### 빈 상태 (Empty State)
- 아이콘 + 메시지 + 액션 버튼
- 예: "등록된 업장이 없습니다. 첫 업장을 등록해보세요!"

---

## ⚠️ 주의사항 및 제약사항

### 1. 에러 처리 우선
- **모든 작업 중 에러 발생 시 즉시 해결 후 진행**
- 컴파일 에러, 런타임 에러 모두 즉시 해결

### 2. 사업자 인증 확인
- 모든 사업자 페이지는 사업자 권한 필수
- 일반 사용자 접근 시 리다이렉트 또는 권한 없음 메시지

### 3. 데이터 검증
- 프로모션 기간: 종료일 >= 시작일
- 할인율: 0-100% 범위
- 필수 입력 필드 검증

### 4. API 의존성
- 백엔드 API 확인 후 구현
- API 없는 경우 UI 먼저 구현 (목업 데이터)

---

## 📊 성공 기준

### 필수 (Must Have)
- [x] 업장 목록 및 기본 정보 표시
- [x] 업장별 통계 표시
- [x] 프로모션 CRUD 기능
- [x] 프로모션 활성화/비활성화 토글
- [x] 반응형 디자인
- [x] 로딩/에러 상태 처리
- [x] 사업자 권한 체크

### 선택 (Should Have)
- [ ] 통계 차트 (시각화)
- [ ] 프로모션 이미지 업로드
- [ ] 프로모션 복사 기능
- [ ] 엑셀 내보내기

### 추가 (Nice to Have)
- [ ] 프로모션 템플릿
- [ ] 프로모션 성과 분석
- [ ] 알림 기능 (프로모션 종료 임박)

---

## 📝 작업 기록 및 문서화

### 필수 문서
1. **PHASE8_WORK_PLAN.md** (현재 문서) ✅
2. **PHASE8_BACKEND_API_REVIEW.md** (Backend 작성)
3. **PHASE8_COMPLETION_REPORT.md** (완료 후 작성)

### 코드 주석
- 각 컴포넌트 상단에 목적 및 사용법 주석
- 복잡한 로직에 설명 주석

### Commit 메시지
```
feat: 업장 관리 페이지 구현
feat: 프로모션 생성 기능 추가
fix: 프로모션 토글 오류 수정
style: 업장 카드 UI 개선
```

---

## 🚀 시작 지시

### Backend Team
**즉시 시작**: API 확인 및 문서화
- 기존 business, promotions API 확인
- Swagger 문서 확인 (http://localhost:4000/api/docs)
- `PHASE8_BACKEND_API_REVIEW.md` 작성
- Frontend 팀에 API 정보 전달

### Frontend Team
**Backend 검토 후 시작**: 페이지 구현
- Backend API 정보 확인
- 사업자 페이지 구조 확인
- 업장 관리 페이지 구현
- 프로모션 관리 페이지 구현

---

## 📞 커뮤니케이션

### 일일 체크인
- 매일 오전: 오늘 할 작업 확인
- 매일 오후: 진행 상황 공유

### 블로커(Blocker) 처리
- 막히는 부분 즉시 공유
- 에러 발생 시 즉시 해결

### 코드 리뷰
- 주요 기능 완료 시 리뷰 요청
- 피드백 반영 후 다음 작업 진행

---

**작성 완료일**: 2025-11-09
**Product Owner 승인**: ✅
**Backend Team 확인**: 대기 중
**Frontend Team 확인**: 대기 중

---

## 다음 단계

1. **Backend Team**: API 확인 작업 시작
2. **Frontend Team**: Backend 검토 완료 대기
3. **모든 팀**: 에러 발생 시 즉시 공유 및 해결

**Let's complete the Business Management System! 🏢**
