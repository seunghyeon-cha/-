"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6206],{9376:function(e,t,a){var o=a(5475);a.o(o,"useParams")&&a.d(t,{useParams:function(){return o.useParams}}),a.o(o,"usePathname")&&a.d(t,{usePathname:function(){return o.usePathname}}),a.o(o,"useRouter")&&a.d(t,{useRouter:function(){return o.useRouter}}),a.o(o,"useSearchParams")&&a.d(t,{useSearchParams:function(){return o.useSearchParams}})},5523:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return o}});let o=a(7043)._(a(2265)).default.createContext(null)},9370:function(e,t,a){a.d(t,{Z:function(){return r}});var o=a(7437),n=a(2265),s=a(257);function r(e){let{lat:t,lng:a,name:r,places:i,zoom:l=3}=e,u=(0,n.useRef)(null);return((0,n.useEffect)(()=>{var e;console.log("=== Kakao Map Component Debug ==="),console.log("window.kakao:",window.kakao),console.log("window.kakao?.maps:",null===(e=window.kakao)||void 0===e?void 0:e.maps),console.log("API Key:",s.env.NEXT_PUBLIC_KAKAO_MAP_KEY?"설정됨":"미설정"),console.log("Coordinates:",{lat:t,lng:a}),console.log("Places count:",(null==i?void 0:i.length)||0);let o=()=>{if(!window.kakao||!window.kakao.maps){console.error("❌ Kakao Map API not loaded yet");return}if(console.log("✅ Starting to initialize Kakao Map..."),!u.current)return;let e={center:new window.kakao.maps.LatLng(t,a),level:l},o=new window.kakao.maps.Map(u.current,e);if(i&&i.length>0){let e=new window.kakao.maps.LatLngBounds;i.forEach(t=>{if(!t.latitude||!t.longitude||0===t.latitude||0===t.longitude)return;let a=new window.kakao.maps.LatLng(t.latitude,t.longitude),n=new window.kakao.maps.Marker({position:a,title:t.name});n.setMap(o),e.extend(a);let s=new window.kakao.maps.InfoWindow({content:'\n              <div style="padding:10px;min-width:150px;">\n                <div style="font-weight:bold;margin-bottom:5px;">'.concat(t.name,"</div>\n                ").concat(t.address?'<div style="font-size:12px;color:#666;">'.concat(t.address,"</div>"):"","\n              </div>\n            ")});window.kakao.maps.event.addListener(n,"click",function(){s.open(o,n)})}),o.setBounds(e),console.log("✅ ".concat(i.length,"개의 마커가 표시되었습니다."))}else{let e=new window.kakao.maps.LatLng(t,a),n=new window.kakao.maps.Marker({position:e});n.setMap(o),r&&new window.kakao.maps.InfoWindow({content:'<div style="padding:10px;font-size:14px;">'.concat(r,"</div>")}).open(o,n),console.log("✅ 단일 마커가 표시되었습니다.")}console.log("✅ Kakao Map initialized successfully!")};if(window.kakao&&window.kakao.maps)console.log("✅ Kakao Maps SDK detected, loading map..."),window.kakao.maps.load(o);else{console.warn("⏳ Waiting for Kakao Maps SDK to load...");let e=setInterval(()=>{window.kakao&&window.kakao.maps&&(console.log("✅ Kakao Maps SDK loaded, initializing map..."),clearInterval(e),window.kakao.maps.load(o))},100);setTimeout(()=>{clearInterval(e),window.kakao&&window.kakao.maps||console.error("❌ Kakao Maps SDK failed to load within 10 seconds")},1e4)}},[t,a,r,i,l]),t&&a&&0!==t&&0!==a)?(0,o.jsxs)("div",{className:"w-full h-full relative",children:[(0,o.jsx)("div",{ref:u,className:"w-full h-full rounded-xl"}),!window.kakao&&(0,o.jsxs)("div",{className:"absolute inset-0 bg-gray-100 rounded-xl flex flex-col items-center justify-center",children:[(0,o.jsxs)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,o.jsx)("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Kakao Map (준비 중)"}),(0,o.jsxs)("p",{className:"text-xs text-gray-500",children:["좌표: ",t.toFixed(6),", ",a.toFixed(6)]}),(0,o.jsx)("div",{className:"mt-4 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:(0,o.jsx)("p",{className:"text-xs text-blue-700",children:"Kakao Map API 키를 설정하면 지도가 표시됩니다"})})]})]}):(0,o.jsx)("div",{className:"w-full h-full bg-gray-100 rounded-xl flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center text-gray-500",children:[(0,o.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),(0,o.jsx)("p",{className:"text-sm",children:"위치 정보가 없습니다"})]})})}},6305:function(e,t,a){a.d(t,{x:function(){return i}});var o=a(3464),n=a(9375),s=a(7802);let r="http://localhost:4000",i=o.Z.create({baseURL:r,headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let{accessToken:t}=n.t.getState();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var t,a;let l=e.config;if(!e.response)return s.A.error("인터넷 연결을 확인해주세요"),Promise.reject(e);if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!l._retry){l._retry=!0;try{let{refreshToken:e}=n.t.getState();if(!e)throw Error("No refresh token");let{accessToken:t,refreshToken:a}=(await o.Z.post("".concat(r,"/api/auth/refresh"),{refreshToken:e})).data,{user:s}=n.t.getState();return s&&n.t.getState().setAuth(s,t,a),l.headers.Authorization="Bearer ".concat(t),i(l)}catch(e){return n.t.getState().clearAuth(),s.A.error("세션이 만료되었습니다. 다시 로그인해주세요"),window.location.href="/login",Promise.reject(e)}}403===e.response.status&&s.A.error("접근 권한이 없습니다"),404===e.response.status&&s.A.error("요청하신 정보를 찾을 수 없습니다"),e.response.status>=500&&s.A.error("일시적인 오류가 발생했습니다. 잠시 후 다시 시도해주세요");let u=null===(a=e.response.data)||void 0===a?void 0:a.message;if(u&&![401,403,404].includes(e.response.status)){let e=Array.isArray(u)?u[0]:u;s.A.error(e)}return Promise.reject(e)})},7360:function(e,t,a){a.d(t,{EO:function(){return r},WA:function(){return l},b4:function(){return i},en:function(){return n},tF:function(){return s}});var o=a(6305);let n={TOURIST_SPOT:"12",CULTURE:"14",FESTIVAL:"15",COURSE:"25",LEPORTS:"28",ACCOMMODATION:"32",SHOPPING:"38",RESTAURANT:"39"},s=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(await o.x.get("/api/tour/places",{params:{numOfRows:10,pageNo:1,...e}})).data},r=async e=>(await o.x.get("/api/tour/places/".concat(e))).data,i=async e=>(await o.x.get("/api/tour/places/".concat(e,"/images"))).data,l=e=>{let t=e.response.body.items;return t&&"string"!=typeof t&&t.item||[]}},9375:function(e,t,a){a.d(t,{t:function(){return s}});var o=a(9625),n=a(6885);let s=(0,o.Ue)()((0,n.tJ)(e=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,setAuth:(t,a,o)=>e({user:t,accessToken:a,refreshToken:o,isAuthenticated:!0}),clearAuth:()=>e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1}),updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null}))}),{name:"auth-storage"}))},7802:function(e,t,a){a.d(t,{A:function(){return n},E:function(){return o}});let o=(0,a(9625).Ue)(e=>({toasts:[],addToast:t=>{let a="toast-".concat(Date.now(),"-").concat(Math.random()),o={id:a,duration:3e3,...t};e(e=>({toasts:[...e.toasts,o]})),o.duration&&setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==a)}))},o.duration)},removeToast:t=>e(e=>({toasts:e.toasts.filter(e=>e.id!==t)})),clearToasts:()=>e({toasts:[]})})),n={success:(e,t)=>o.getState().addToast({type:"success",message:e,duration:t}),error:(e,t)=>o.getState().addToast({type:"error",message:e,duration:t}),warning:(e,t)=>o.getState().addToast({type:"warning",message:e,duration:t}),info:(e,t)=>o.getState().addToast({type:"info",message:e,duration:t})}}}]);