"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6617],{4565:function(e,t,r){var a=r(7437),n=r(1994);t.Z=e=>{let{variant:t="primary",size:r="md",isLoading:i=!1,fullWidth:s=!1,className:o,disabled:c,children:l,...u}=e;return(0,a.jsx)("button",{className:(0,n.W)("inline-flex items-center justify-center font-semibold rounded-lg transition-all duration-200 disabled:cursor-not-allowed disabled:opacity-60",{primary:"bg-primary-500 text-white hover:bg-primary-600 active:bg-primary-700 disabled:bg-gray-400",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 active:bg-gray-300 disabled:bg-gray-100",outline:"bg-transparent text-primary-500 border border-primary-500 hover:bg-primary-50 active:bg-primary-100 disabled:border-gray-300 disabled:text-gray-400",ghost:"bg-transparent text-gray-500 hover:bg-gray-100 active:bg-gray-200 disabled:bg-transparent disabled:text-gray-400"}[t],{sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-base",lg:"h-12 px-6 text-base"}[r],s?"w-full":"",i&&"cursor-wait",o),disabled:c||i,"aria-busy":i,...u,children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("span",{children:"로딩 중..."})]}):l})}},2609:function(e,t,r){var a=r(7437),n=r(2265),i=r(1994),s=r(4565),o=r(426),c=r(7802);t.Z=e=>{let{onUploadComplete:t,maxFiles:r=10,maxSizeMB:l=5,className:u}=e,[d,g]=(0,n.useState)([]),[p,h]=(0,n.useState)(!1),m=(0,n.useRef)(null),y=e=>{g(t=>{let r=[...t];return URL.revokeObjectURL(r[e].preview),r.splice(e,1),r})},x=async()=>{if(0===d.length){c.A.error("업로드할 이미지를 선택해주세요");return}h(!0);try{let e=d.map(e=>e.file),r=await (0,o.e)(e);c.A.success("".concat(r.urls.length,"개의 이미지가 업로드되었습니다")),t&&t(r.urls),d.forEach(e=>URL.revokeObjectURL(e.preview)),g([])}catch(e){c.A.error("이미지 업로드 중 오류가 발생했습니다"),console.error("Image upload error:",e)}finally{h(!1)}};return(0,a.jsxs)("div",{className:(0,i.W)("space-y-4",u),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{ref:m,type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif",multiple:!0,onChange:e=>{let t=Array.from(e.target.files||[]);if(d.length+t.length>r){c.A.error("최대 ".concat(r,"개의 이미지만 업로드할 수 있습니다"));return}let a=[],n=["image/jpeg","image/jpg","image/png","image/gif"],i=1048576*l;t.forEach(e=>{if(!n.includes(e.type)){c.A.error("".concat(e.name,": 지원하지 않는 파일 형식입니다 (jpg, jpeg, png, gif만 가능)"));return}if(e.size>i){c.A.error("".concat(e.name,": 파일 크기가 너무 큽니다 (최대 ").concat(l,"MB)"));return}let t=URL.createObjectURL(e);a.push({file:e,preview:t})}),g(e=>[...e,...a]),m.current&&(m.current.value="")},className:"hidden"}),(0,a.jsx)(s.Z,{type:"button",variant:"outline",onClick:()=>{var e;null===(e=m.current)||void 0===e||e.click()},disabled:p||d.length>=r,children:"이미지 선택"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:[d.length," / ",r]})]}),d.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:d.map((e,t)=>(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100",children:(0,a.jsx)("img",{src:e.preview,alt:"Preview ".concat(t+1),className:"w-full h-full object-cover"})}),(0,a.jsx)("button",{type:"button",onClick:()=>y(t),disabled:p,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-50",children:"✕"})]},t))}),d.length>0&&(0,a.jsx)(s.Z,{type:"button",onClick:x,disabled:p,isLoading:p,fullWidth:!0,children:p?"업로드 중...":"업로드"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["jpg, jpeg, png, gif 형식만 가능 (최대 ",l,"MB, ",r,"개)"]})]})}},7371:function(e,t,r){var a=r(7437),n=r(5015),i=r(8340),s=r(5172),o=r(4816),c=r(3676),l=r(2265);t.Z=e=>{let{value:t,onChange:r,placeholder:u="내용을 입력하세요...",minHeight:d="300px",editable:g=!0}=e,p=(0,n.jE)({immediatelyRender:!1,extensions:[i.Z.configure({heading:{levels:[1,2,3]}}),s.Z.configure({placeholder:u}),o.ZP.configure({openOnClick:!1,HTMLAttributes:{class:"text-primary-600 hover:underline"}}),c.ZP.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}})],content:t,editable:g,onUpdate:e=>{let{editor:t}=e;r(t.getHTML())}});return((0,l.useEffect)(()=>{p&&t!==p.getHTML()&&p.commands.setContent(t)},[t,p]),p)?g?(0,a.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-primary-500",children:[(0,a.jsxs)("div",{className:"bg-gray-50 border-b border-gray-300 p-2 flex flex-wrap gap-1",children:[(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleBold().run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("bold")?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:(0,a.jsx)("strong",{children:"B"})}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleItalic().run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("italic")?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:(0,a.jsx)("em",{children:"I"})}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleStrike().run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("strike")?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:(0,a.jsx)("s",{children:"S"})}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleHeading({level:1}).run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("heading",{level:1})?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:"H1"}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleHeading({level:2}).run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("heading",{level:2})?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:"H2"}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleHeading({level:3}).run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("heading",{level:3})?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:"H3"}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleBulletList().run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("bulletList")?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:"• 목록"}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleOrderedList().run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("orderedList")?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:"1. 목록"}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleBlockquote().run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("blockquote")?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:'" 인용'}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().toggleCodeBlock().run(),className:"px-3 py-1.5 rounded text-sm font-medium transition-colors ".concat(p.isActive("codeBlock")?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),type:"button",children:"</>"}),(0,a.jsx)("div",{className:"w-px h-6 bg-gray-300 mx-1"}),(0,a.jsx)("button",{onClick:()=>p.chain().focus().setHorizontalRule().run(),className:"px-3 py-1.5 rounded text-sm font-medium bg-white text-gray-700 hover:bg-gray-100 transition-colors",type:"button",children:"― 구분선"})]}),(0,a.jsx)("div",{className:"prose max-w-none p-4",style:{minHeight:d},children:(0,a.jsx)(n.kg,{editor:p})})]}):(0,a.jsx)("div",{className:"prose max-w-none",children:(0,a.jsx)(n.kg,{editor:p})}):null}},9226:function(e,t,r){r.d(t,{DC:function(){return n},IK:function(){return u},L1:function(){return c},WU:function(){return i},aX:function(){return s},uW:function(){return l},wN:function(){return o}});var a=r(6305);let n=async e=>(await a.x.get("/api/boards",{params:e})).data,i=async e=>(await a.x.get("/api/boards/".concat(e))).data,s=async e=>(await a.x.post("/api/boards",e)).data,o=async(e,t)=>(await a.x.put("/api/boards/".concat(e),t)).data,c=async e=>(await a.x.delete("/api/boards/".concat(e))).data,l=async e=>(await a.x.post("/api/boards/".concat(e,"/like"))).data,u=async e=>(await a.x.get("/api/boards/".concat(e,"/like/check"))).data},6305:function(e,t,r){r.d(t,{x:function(){return o}});var a=r(3464),n=r(9375),i=r(7802);let s="http://localhost:4000",o=a.Z.create({baseURL:s,headers:{"Content-Type":"application/json"}});o.interceptors.request.use(e=>{let{accessToken:t}=n.t.getState();return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),o.interceptors.response.use(e=>e,async e=>{var t,r;let c=e.config;if(!e.response)return i.A.error("인터넷 연결을 확인해주세요"),Promise.reject(e);if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!c._retry){c._retry=!0;try{let{refreshToken:e}=n.t.getState();if(!e)throw Error("No refresh token");let{accessToken:t,refreshToken:r}=(await a.Z.post("".concat(s,"/api/auth/refresh"),{refreshToken:e})).data,{user:i}=n.t.getState();return i&&n.t.getState().setAuth(i,t,r),c.headers.Authorization="Bearer ".concat(t),o(c)}catch(e){return n.t.getState().clearAuth(),i.A.error("세션이 만료되었습니다. 다시 로그인해주세요"),window.location.href="/login",Promise.reject(e)}}403===e.response.status&&i.A.error("접근 권한이 없습니다"),404===e.response.status&&i.A.error("요청하신 정보를 찾을 수 없습니다"),e.response.status>=500&&i.A.error("일시적인 오류가 발생했습니다. 잠시 후 다시 시도해주세요");let l=null===(r=e.response.data)||void 0===r?void 0:r.message;if(l&&![401,403,404].includes(e.response.status)){let e=Array.isArray(l)?l[0]:l;i.A.error(e)}return Promise.reject(e)})},426:function(e,t,r){r.d(t,{e:function(){return n}});var a=r(6305);let n=async e=>{let t=new FormData;return e.forEach(e=>{t.append("images",e)}),(await a.x.post("/api/api/upload/images",t,{headers:{"Content-Type":"multipart/form-data"}})).data}},9375:function(e,t,r){r.d(t,{t:function(){return i}});var a=r(9625),n=r(6885);let i=(0,a.Ue)()((0,n.tJ)(e=>({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1,setAuth:(t,r,a)=>e({user:t,accessToken:r,refreshToken:a,isAuthenticated:!0}),clearAuth:()=>e({user:null,accessToken:null,refreshToken:null,isAuthenticated:!1}),updateUser:t=>e(e=>({user:e.user?{...e.user,...t}:null}))}),{name:"auth-storage"}))},7802:function(e,t,r){r.d(t,{A:function(){return n},E:function(){return a}});let a=(0,r(9625).Ue)(e=>({toasts:[],addToast:t=>{let r="toast-".concat(Date.now(),"-").concat(Math.random()),a={id:r,duration:3e3,...t};e(e=>({toasts:[...e.toasts,a]})),a.duration&&setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==r)}))},a.duration)},removeToast:t=>e(e=>({toasts:e.toasts.filter(e=>e.id!==t)})),clearToasts:()=>e({toasts:[]})})),n={success:(e,t)=>a.getState().addToast({type:"success",message:e,duration:t}),error:(e,t)=>a.getState().addToast({type:"error",message:e,duration:t}),warning:(e,t)=>a.getState().addToast({type:"warning",message:e,duration:t}),info:(e,t)=>a.getState().addToast({type:"info",message:e,duration:t})}},9836:function(e,t,r){r.d(t,{U:function(){return a}});let a={REVIEW:"여행 후기",QNA:"질문/답변",RESTAURANT:"맛집 추천",ACCOMMODATION:"숙소 추천",TOURIST:"관광지 정보",FREE:"자유 게시판"}},1994:function(e,t,r){r.d(t,{W:function(){return a}});function a(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a)}return n}(e))&&(a&&(a+=" "),a+=t);return a}}}]);