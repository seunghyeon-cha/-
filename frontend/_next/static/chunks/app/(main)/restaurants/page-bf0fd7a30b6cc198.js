(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1737],{5473:function(e,a,t){Promise.resolve().then(t.bind(t,6592))},6592:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return h}});var r=t(7437),s=t(2265),l=t(9376),n=t(8624),i=t(4177),o=t(9731),c=t(9370),d=t(8837),m=t(7360);let x=[{code:"",name:"전체 지역"},{code:"서울",name:"서울특별시"},{code:"부산",name:"부산광역시"},{code:"인천",name:"인천광역시"},{code:"대구",name:"대구광역시"},{code:"광주",name:"광주광역시"},{code:"대전",name:"대전광역시"},{code:"울산",name:"울산광역시"},{code:"세종",name:"세종특별자치시"},{code:"경기",name:"경기도"},{code:"강원",name:"강원특별자치도"},{code:"충북",name:"충청북도"},{code:"충남",name:"충청남도"},{code:"전북",name:"전북특별자치도"},{code:"전남",name:"전라남도"},{code:"경북",name:"경상북도"},{code:"경남",name:"경상남도"},{code:"제주",name:"제주특별자치도"}];function h(){var e,a,t,h,u;let g=(0,l.useRouter)();(0,l.useSearchParams)();let[p,v]=(0,s.useState)("internal"),[j,y]=(0,s.useState)("list"),[f,b]=(0,s.useState)("latest"),[N,w]=(0,s.useState)([]),[k,C]=(0,s.useState)([]),[L,M]=(0,s.useState)({total:0,page:1,limit:20,totalPages:0}),[S,T]=(0,s.useState)(!0),[V,F]=(0,s.useState)(""),[B,P]=(0,s.useState)(""),[A,R]=(0,s.useState)(""),E=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{T(!0);let t=await (0,d.fQ)({category:"RESTAURANT",sort:e||f,page:a,limit:20,search:B||void 0,region:A||void 0});w(t.data),M(t.meta)}catch(e){console.error("Failed to fetch places:",e)}finally{T(!1)}},_=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1";try{T(!0);let a=await (0,m.tF)({areaCode:e,contentTypeId:m.en.TOURIST_SPOT,numOfRows:20,pageNo:1}),t=(0,m.WA)(a);C(t)}catch(e){console.error("Failed to fetch tour places:",e),C([])}finally{T(!1)}},z=e=>{v(e),"internal"===e?E(f,1):_("1")},W=e=>{g.push("/places/".concat(e))},H=e=>{g.push("/places/tour/".concat(e))},O=e=>{console.log("Bookmark toggled:",e)},Z=e=>{R(e)};return(0,s.useEffect)(()=>{let e=setTimeout(()=>{P(V)},500);return()=>clearTimeout(e)},[V]),(0,s.useEffect)(()=>{"internal"===p&&E(f,1)},[B,A]),(0,s.useEffect)(()=>{E()},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",role:"group","aria-label":"데이터 소스 선택",children:[(0,r.jsx)("button",{onClick:()=>z("internal"),"aria-pressed":"internal"===p,className:"px-4 py-2 rounded-lg font-medium transition-all ".concat("internal"===p?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"내부 장소"}),(0,r.jsxs)("button",{onClick:()=>z("tour"),"aria-pressed":"tour"===p,className:"px-4 py-2 rounded-lg font-medium transition-all flex items-center gap-2 ".concat("tour"===p?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,r.jsx)("path",{d:"M10 3.5a1.5 1.5 0 013 0V4a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-.5a1.5 1.5 0 000 3h.5a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-.5a1.5 1.5 0 00-3 0v.5a1 1 0 01-1 1H6a1 1 0 01-1-1v-3a1 1 0 00-1-1h-.5a1.5 1.5 0 010-3H4a1 1 0 001-1V6a1 1 0 011-1h3a1 1 0 001-1v-.5z"})}),"Tour API (공공데이터)"]})]}),"internal"===p&&(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"relative max-w-2xl",children:[(0,r.jsx)("input",{type:"text",placeholder:"장소명 또는 주소로 검색...",value:V,onChange:e=>F(e.target.value),className:"w-full px-4 py-3 pl-11 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors","aria-label":"장소 검색"}),(0,r.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),V&&(0,r.jsx)("button",{onClick:()=>F(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"검색어 지우기",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})]})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 items-center mb-4",children:["internal"===p&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{htmlFor:"region-select",className:"text-sm font-medium text-gray-700",children:"지역"}),(0,r.jsx)("select",{id:"region-select",value:A,onChange:e=>Z(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors","aria-label":"지역 선택",children:x.map(e=>(0,r.jsx)("option",{value:e.code,children:e.name},e.code))})]}),"tour"===p&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("label",{htmlFor:"tour-area-select",className:"text-sm font-medium text-gray-700",children:"관광지 지역"}),(0,r.jsxs)("select",{id:"tour-area-select",onChange:e=>_(e.target.value),defaultValue:"1",className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500","aria-label":"관광지 지역 선택",children:[(0,r.jsx)("option",{value:"1",children:"서울"}),(0,r.jsx)("option",{value:"6",children:"부산"}),(0,r.jsx)("option",{value:"32",children:"강원"}),(0,r.jsx)("option",{value:"39",children:"제주"}),(0,r.jsx)("option",{value:"31",children:"경기"}),(0,r.jsx)("option",{value:"35",children:"경북"}),(0,r.jsx)("option",{value:"36",children:"경남"}),(0,r.jsx)("option",{value:"37",children:"전북"}),(0,r.jsx)("option",{value:"38",children:"전남"}),(0,r.jsx)("option",{value:"33",children:"충북"}),(0,r.jsx)("option",{value:"34",children:"충남"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"맛집"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"전국의 맛집을 찾아보세요"})]}),"internal"===p&&(0,r.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[(0,r.jsx)("label",{htmlFor:"sort-select",className:"text-sm font-medium text-gray-700",children:"정렬"}),(0,r.jsxs)("select",{id:"sort-select",value:f,onChange:e=>{let a=e.target.value;b(a),E(a,1)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500","aria-label":"장소 정렬 기준",children:[(0,r.jsx)("option",{value:"latest",children:"최신순"}),(0,r.jsx)("option",{value:"rating",children:"평점순"}),(0,r.jsx)("option",{value:"reviews",children:"리뷰 많은 순"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 border border-gray-300 rounded-lg overflow-hidden",role:"group","aria-label":"표시 모드 선택",children:[(0,r.jsx)("button",{onClick:()=>y("list"),"aria-pressed":"list"===j,"aria-label":"리스트 보기",className:"px-4 py-2 text-sm font-medium transition-colors ".concat("list"===j?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}),(0,r.jsx)("span",{children:"리스트"})]})}),(0,r.jsx)("button",{onClick:()=>y("map"),"aria-pressed":"map"===j,"aria-label":"지도 보기",className:"px-4 py-2 text-sm font-medium transition-colors ".concat("map"===j?"bg-primary-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),(0,r.jsx)("span",{children:"지도"})]})})]})]}),"internal"===p&&(V||A)&&(0,r.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2 items-center",children:[(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"활성 필터:"}),V&&(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:["검색: ",V,(0,r.jsx)("button",{onClick:()=>F(""),className:"hover:text-primary-900 transition-colors","aria-label":"검색 필터 제거",children:"\xd7"})]}),A&&(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[null===(e=x.find(e=>e.code===A))||void 0===e?void 0:e.name,(0,r.jsx)("button",{onClick:()=>R(""),className:"hover:text-primary-900 transition-colors","aria-label":"지역 필터 제거",children:"\xd7"})]}),(0,r.jsx)("button",{onClick:()=>{F(""),R(""),b("latest")},className:"text-sm text-gray-600 hover:text-gray-900 underline transition-colors",children:"모두 초기화"})]}),(0,r.jsx)("div",{className:"mt-4 text-sm text-gray-600",children:"internal"===p?(0,r.jsxs)(r.Fragment,{children:["총 ",(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:L.total}),"개의 장소"]}):(0,r.jsxs)(r.Fragment,{children:["Tour API 관광지"," ",(0,r.jsx)("span",{className:"font-semibold text-gray-900",children:k.length}),"개"]})})]})}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:S?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,a)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl overflow-hidden shadow-sm",children:[(0,r.jsx)("div",{className:"aspect-video bg-gray-200 animate-pulse"}),(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 animate-pulse"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 animate-pulse"})]})]},a))}):"internal"===p?N.length>0?"list"===j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(e=>{var a;return(0,r.jsx)(n.Z,{id:e.id,image:null===(a=e.images)||void 0===a?void 0:a[0],category:e.category,name:e.name,address:e.address,rating:e.averageRating,reviewCount:e.reviewCount,isBookmarked:!1,onBookmark:O,onClick:W},e.id)})}),(0,r.jsx)(o.Z,{currentPage:L.page,totalPages:L.totalPages,onPageChange:e=>{E(f,e),window.scrollTo({top:0,behavior:"smooth"})}})]}):(0,r.jsx)("div",{className:"h-[calc(100vh-280px)] min-h-[500px]",children:(0,r.jsx)(c.Z,{lat:(null===(a=N[0])||void 0===a?void 0:a.latitude)||37.5665,lng:(null===(t=N[0])||void 0===t?void 0:t.longitude)||126.978,name:"맛집 목록",places:N.map(e=>({id:e.id,name:e.name,latitude:e.latitude,longitude:e.longitude,address:e.address})),zoom:5})}):(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"장소가 없습니다"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"해당 조건에 맞는 장소를 찾을 수 없습니다."})]}):k.length>0?"list"===j?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>(0,r.jsx)(i.Z,{place:e,onClick:H},e.contentid))}):(0,r.jsx)("div",{className:"h-[calc(100vh-280px)] min-h-[500px]",children:(0,r.jsx)(c.Z,{lat:(null===(h=k[0])||void 0===h?void 0:h.mapy)?parseFloat(k[0].mapy):37.5665,lng:(null===(u=k[0])||void 0===u?void 0:u.mapx)?parseFloat(k[0].mapx):126.978,name:"Tour 장소 목록"})}):(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"관광지 정보가 없습니다"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"선택한 지역의 관광지 정보를 불러올 수 없습니다."})]})})]})}}},function(e){e.O(0,[3464,5883,3145,6206,3290,2971,2117,1744],function(){return e(e.s=5473)}),_N_E=e.O()}]);